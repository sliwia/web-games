{"ast":null,"code":"var _jsxFileName = \"/Users/liwia/Documents/Projects/web-games/src/PaddleGame/PaddleGame.js\";\nimport React from 'react';\nimport { Icon, Button, Tooltip } from 'antd';\nimport './PaddleGame.css';\nimport lang from '../files/lang.json';\n\nclass PaddleGame extends React.Component {\n  constructor() {\n    super();\n    this.game = {\n      gameBoard: null,\n      context: null,\n      ballX: 100,\n      ballY: 100,\n      ballSpeedX: 5,\n      ballSpeedY: 7,\n      paddleWidth: 100,\n      paddleHeight: 10,\n      paddleDistFromEdge: 60,\n      paddleX: 400\n    };\n    let highScore = Number(localStorage.getItem(\"highScore\"));\n    this.state = {\n      gameRefreshInterval: null,\n      bounces: 0,\n      highScore: highScore,\n      isFullScreen: false\n    };\n\n    if (localStorage.getItem('highScore') > 10 && localStorage.getItem('highScore') < 20) {\n      this.game.gameSpeed = 500;\n    }\n\n    if (localStorage.getItem('highScore') > 20) {\n      this.game.gameSpeed = 250;\n    }\n\n    this.updateAll = this.updateAll.bind(this);\n    this.updateMousePosition = this.updateMousePosition.bind(this);\n  }\n\n  componentDidMount() {\n    this.game.gameBoard = this.refs.canvas;\n    this.game.context = this.refs.canvas.getContext('2d');\n    this.setState({\n      gameRefreshInterval: null\n    });\n    this.refs.canvas.addEventListener('mousemove', this.updateMousePosition);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.state.gameRefreshInterval);\n    this.setState({\n      gameRefreshInterval: null\n    });\n  }\n\n  updateDirection() {\n    this.game.ballX += this.game.ballSpeedX;\n    this.game.ballY += this.game.ballSpeedY;\n\n    if (this.game.ballX < 0) {\n      this.game.ballSpeedX *= -1;\n    }\n\n    if (this.game.ballX > this.game.gameBoard.width) {\n      this.game.ballSpeedX *= -1;\n    }\n\n    if (this.game.ballY < 0) {\n      this.game.ballSpeedY *= -1;\n    }\n\n    if (this.game.ballY > this.game.gameBoard.height) {\n      this.resetBall();\n      this.setState({\n        bounces: 0\n      });\n    }\n\n    let paddleTopEdgeY = this.game.gameBoard.height - this.game.paddleDistFromEdge;\n    let paddleBottomEdgeY = paddleTopEdgeY + this.game.paddleHeight;\n    let paddleLeftEdgeX = this.game.paddleX;\n    let paddleRightEdgeX = paddleLeftEdgeX + this.game.paddleWidth;\n\n    if (this.game.ballY > paddleTopEdgeY && this.game.ballY < paddleBottomEdgeY && this.game.ballX > paddleLeftEdgeX && this.game.ballX < paddleRightEdgeX) {\n      this.game.ballSpeedY *= -1;\n      this.setState({\n        bounces: this.state.bounces + 1\n      });\n      this.setHighScore();\n    }\n  }\n\n  setHighScore() {\n    let highScore = Number(localStorage.getItem(\"highScore\"));\n\n    if (highScore < this.state.bounces) {\n      localStorage.setItem(\"highScore\", this.state.bounces);\n      this.setState({\n        highScore: this.state.bounces\n      });\n    }\n  }\n\n  printElements() {\n    this.game.context.fillStyle = '#8b8b8b';\n    this.game.context.fillRect(0, 0, this.game.gameBoard.width, this.game.gameBoard.height);\n    this.game.context.fillStyle = '#121212';\n    this.game.context.fillRect(this.game.paddleX, this.game.gameBoard.height - this.game.paddleDistFromEdge - this.game.paddleHeight, this.game.paddleWidth, this.game.paddleHeight);\n    this.game.context.fillStyle = '#121212';\n    this.game.context.beginPath();\n    this.game.context.arc(this.game.ballX, this.game.ballY, 10, 0, Math.PI * 2, true);\n    this.game.context.fill();\n  }\n\n  updateAll() {\n    this.printElements();\n    this.updateDirection();\n  }\n\n  updateMousePosition(ev) {\n    let rect = this.refs.canvas.getBoundingClientRect();\n    let mouseX = ev.clientX - rect.left;\n    this.game.paddleX = mouseX - this.game.paddleWidth / 2;\n  }\n\n  resetBall() {\n    this.game.ballX = this.game.gameBoard.width / 2;\n    this.game.ballY = this.game.gameBoard.height / 4;\n  }\n\n  toggleFullScreen() {\n    this.setState({\n      isFullScreen: !this.state.isFullScreen\n    });\n  }\n\n  startStopGame() {\n    if (!this.state.gameRefreshInterval) {\n      this.setState({\n        gameRefreshInterval: setInterval(this.updateAll, 1000 / localStorage.getItem('gameSpeed'))\n      });\n    } else {\n      clearInterval(this.state.gameRefreshInterval);\n      this.setState({\n        gameRefreshInterval: null\n      });\n    }\n  }\n\n  resetScore() {\n    localStorage.setItem('highScore', '0');\n    this.setState({\n      bounces: 0,\n      highScore: 0\n    });\n  }\n\n  render() {\n    let startStopGameBtn;\n\n    if (!this.state.gameRefreshInterval) {\n      startStopGameBtn = React.createElement(Button, {\n        className: \"btn-start-stop-reset pulse-effect\",\n        type: \"primary\",\n        onClick: this.startStopGame.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"play-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }), lang[localStorage.getItem('lang')].startButton);\n    } else {\n      startStopGameBtn = React.createElement(Button, {\n        className: \"btn-start-stop-reset\",\n        type: \"primary\",\n        onClick: this.startStopGame.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        type: \"pause-circle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), lang[localStorage.getItem('lang')].stopButton);\n    }\n\n    return React.createElement(\"div\", {\n      className: \"paddle-game-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(Tooltip, {\n      placement: \"bottom\",\n      title: lang[localStorage.getItem('lang')].fullScreenTooltip,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.toggleFullScreen.bind(this),\n      className: \"btn-full-screen\",\n      type: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"fullscreen\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, lang[localStorage.getItem('lang')].currentScoreTitle, \" \", this.state.bounces), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"trophy\",\n      theme: \"twoTone\",\n      twoToneColor: \"gold\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), \" \", lang[localStorage.getItem('lang')].highestScoreTitle, \" \", this.state.highScore), startStopGameBtn, React.createElement(Button, {\n      type: \"primary\",\n      className: \"btn-start-stop-reset\",\n      onClick: this.resetScore.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"reload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), lang[localStorage.getItem('lang')].resetGameButton)), React.createElement(\"canvas\", {\n      onDoubleClick: this.toggleFullScreen.bind(this),\n      className: this.state.isFullScreen ? \"canvas canvas-full-screen\" : \"canvas\",\n      ref: \"canvas\",\n      width: \"800\",\n      height: \"600\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default PaddleGame;","map":{"version":3,"sources":["/Users/liwia/Documents/Projects/web-games/src/PaddleGame/PaddleGame.js"],"names":["React","Icon","Button","Tooltip","lang","PaddleGame","Component","constructor","game","gameBoard","context","ballX","ballY","ballSpeedX","ballSpeedY","paddleWidth","paddleHeight","paddleDistFromEdge","paddleX","highScore","Number","localStorage","getItem","state","gameRefreshInterval","bounces","isFullScreen","gameSpeed","updateAll","bind","updateMousePosition","componentDidMount","refs","canvas","getContext","setState","addEventListener","componentWillUnmount","clearInterval","updateDirection","width","height","resetBall","paddleTopEdgeY","paddleBottomEdgeY","paddleLeftEdgeX","paddleRightEdgeX","setHighScore","setItem","printElements","fillStyle","fillRect","beginPath","arc","Math","PI","fill","ev","rect","getBoundingClientRect","mouseX","clientX","left","toggleFullScreen","startStopGame","setInterval","resetScore","render","startStopGameBtn","startButton","stopButton","fullScreenTooltip","currentScoreTitle","highestScoreTitle","resetGameButton"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Icon, Button, Tooltip } from 'antd';\nimport './PaddleGame.css';\nimport lang from '../files/lang.json';\n\nclass PaddleGame extends React.Component {\n  constructor() {\n    super();\n\n    this.game = {\n      gameBoard: null,\n      context: null,\n      ballX: 100,\n      ballY: 100,\n      ballSpeedX: 5,\n      ballSpeedY: 7,\n      paddleWidth: 100,\n      paddleHeight: 10,\n      paddleDistFromEdge: 60,\n      paddleX: 400\n    }\n    let highScore = Number(localStorage.getItem(\"highScore\"));\n    \n    this.state = {\n      gameRefreshInterval: null,\n      bounces: 0,\n      highScore: highScore,\n      isFullScreen: false\n    }\n\n    if (localStorage.getItem('highScore') > 10 && localStorage.getItem('highScore') < 20) {\n      this.game.gameSpeed = 500\n    }\n\n    if (localStorage.getItem('highScore') > 20) {\n      this.game.gameSpeed = 250\n    }\n\n    this.updateAll = this.updateAll.bind(this);\n    this.updateMousePosition = this.updateMousePosition.bind(this);\n  }\n\n  componentDidMount() {\n    this.game.gameBoard = this.refs.canvas;\n    this.game.context = this.refs.canvas.getContext('2d');\n   \n    this.setState({gameRefreshInterval: null})\n    this.refs.canvas.addEventListener('mousemove', this.updateMousePosition)\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.state.gameRefreshInterval);\n    this.setState({gameRefreshInterval: null})\n  }\n\n  updateDirection() {\n    this.game.ballX += this.game.ballSpeedX;\n    this.game.ballY += this.game.ballSpeedY;\n  \n    if(this.game.ballX < 0) {\n      this.game.ballSpeedX *= -1;\n    }\n    if(this.game.ballX > this.game.gameBoard.width) {\n      this.game.ballSpeedX *= -1;\n    }\n    if(this.game.ballY < 0) {\n      this.game.ballSpeedY *= -1;\n    }\n    if(this.game.ballY > this.game.gameBoard.height) {\n      this.resetBall();\n      this.setState({bounces: 0})\n    }\n  \n    let paddleTopEdgeY = this.game.gameBoard.height - this.game.paddleDistFromEdge;\n    let paddleBottomEdgeY = paddleTopEdgeY + this.game.paddleHeight;\n    let paddleLeftEdgeX = this.game.paddleX;\n    let paddleRightEdgeX = paddleLeftEdgeX + this.game.paddleWidth;\n\n    if (this.game.ballY > paddleTopEdgeY &&\n        this.game.ballY < paddleBottomEdgeY &&\n        this.game.ballX > paddleLeftEdgeX &&\n        this.game.ballX < paddleRightEdgeX) {\n        this.game.ballSpeedY *= -1;\n        this.setState({bounces: this.state.bounces + 1} );\n        this.setHighScore();\n        }\n  }\n\n  setHighScore() {\n    let highScore = Number(localStorage.getItem(\"highScore\"));\n    if (highScore < this.state.bounces) {\n      localStorage.setItem(\"highScore\", this.state.bounces );\n      this.setState({highScore: this.state.bounces} );\n    }\n  }\n\n  printElements() {\n    this.game.context.fillStyle = '#8b8b8b';\n    this.game.context.fillRect(0,0, this.game.gameBoard.width, this.game.gameBoard.height)\n  \n    this.game.context.fillStyle = '#121212';\n    this.game.context.fillRect(this.game.paddleX, this.game.gameBoard.height - this.game.paddleDistFromEdge - this.game.paddleHeight, this.game.paddleWidth, this.game.paddleHeight)\n  \n    this.game.context.fillStyle = '#121212';\n    this.game.context.beginPath();\n    this.game.context.arc(this.game.ballX, this.game.ballY, 10, 0, Math.PI * 2, true);\n    this.game.context.fill();\n  }\n  \n  updateAll() {\n    this.printElements();\n    this.updateDirection();\n  }\n  \n  updateMousePosition(ev) {\n    let rect = this.refs.canvas.getBoundingClientRect();\n    let mouseX = ev.clientX - rect.left;\n    this.game.paddleX = mouseX - (this.game.paddleWidth / 2);\n  }\n  \n  resetBall() {\n    this.game.ballX = this.game.gameBoard.width / 2;\n    this.game.ballY = this.game.gameBoard.height / 4;\n  }\n\n  toggleFullScreen() {\n    this.setState({\n      isFullScreen: !this.state.isFullScreen\n    })\n  }\n\n  startStopGame() {\n    if (!this.state.gameRefreshInterval) {\n\n      this.setState({gameRefreshInterval: setInterval(this.updateAll, 1000/localStorage.getItem('gameSpeed'))});\n    } else {\n      clearInterval(this.state.gameRefreshInterval);\n      this.setState({gameRefreshInterval: null})\n    }\n  }\n\n  resetScore() {\n    localStorage.setItem('highScore', '0');\n    this.setState({\n      bounces: 0,\n      highScore:0\n    })\n  }\n\n  render() {\n    let startStopGameBtn;\n\n    if (!this.state.gameRefreshInterval) {\n      startStopGameBtn = <Button \n        className=\"btn-start-stop-reset pulse-effect\" \n        type=\"primary\" \n        onClick={this.startStopGame.bind(this)}>\n          <Icon type=\"play-circle\" />{lang[localStorage.getItem('lang')].startButton}\n      </Button>\n    } else {\n      startStopGameBtn = <Button \n        className=\"btn-start-stop-reset\" \n        type=\"primary\" \n        onClick ={this.startStopGame.bind(this)}>\n          <Icon type=\"pause-circle\" />{lang[localStorage.getItem('lang')].stopButton}\n        </Button>\n    }\n\n    return (\n      <div className=\"paddle-game-container\">\n        <Tooltip placement=\"bottom\" title={lang[localStorage.getItem('lang')].fullScreenTooltip}>\n          <Button \n          onClick={this.toggleFullScreen.bind(this)}\n          className=\"btn-full-screen\"\n          type=\"primary\"><Icon type=\"fullscreen\" />\n          </Button>\n        </Tooltip>\n        <div>\n          <h1>{ lang[localStorage.getItem('lang')].currentScoreTitle } {this.state.bounces}</h1>\n          <h2><Icon type=\"trophy\" theme=\"twoTone\" twoToneColor=\"gold\" /> { lang[localStorage.getItem('lang')].highestScoreTitle } {this.state.highScore}</h2> \n          {startStopGameBtn}\n          <Button \n            type=\"primary\" \n            className=\"btn-start-stop-reset\" \n            onClick={this.resetScore.bind(this)}><Icon type=\"reload\" />{lang[localStorage.getItem('lang')].resetGameButton}\n          </Button>\n        </div>\n        <canvas \n          onDoubleClick={this.toggleFullScreen.bind(this)}\n          className={this.state.isFullScreen ? \"canvas canvas-full-screen\": \"canvas\"}\n          ref=\"canvas\" \n          width=\"800\" \n          height=\"600\"\n        ></canvas>\n      </div>\n    );\n  } \n}\n\n\nexport default PaddleGame;\n"]},"metadata":{},"sourceType":"module"}